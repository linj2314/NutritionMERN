{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\linj2\\\\Documents\\\\MERN\\\\client\\\\src\\\\components\\\\FoodSearchBar.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function InputFood() {\n  _s();\n  const navigate = useNavigate();\n  let foodSearchList = [];\n  let query = \"\";\n  const [selected, setSelected] = useState({\n    calories: 0,\n    protein: 0,\n    carbs: 0,\n    fats: 0\n  });\n  function updateForm(value) {\n    return setSelected(prev => {\n      return {\n        ...prev,\n        ...value\n      };\n    });\n  }\n  useEffect(() => {\n    async function fetchData() {\n      const response = await fetch(`http://localhost:5050/record/search?q=${encodeURIComponent(query)}`);\n      if (!response.ok) {\n        const message = `An error has occurred: ${response.statusText}`;\n        window.alert(message);\n        return;\n      } else {\n        foodSearchList = response;\n      }\n      const record = await response.json();\n      if (!record) {\n        window.alert(`No Foods Found`);\n        navigate(\"/\");\n        return;\n      }\n    }\n    fetchData();\n  }, query);\n  async function fetchNutrient(e) {\n    let nutritionvalue = [];\n    const response = await fetch(`http://localhost:5050/record/${e}`);\n    if (!response.ok) {\n      const message = `An error has occurred: ${response.statusText}`;\n      window.alert(message);\n      return;\n    }\n    const nutrients = response.json();\n    for (let i of nutrients) {\n      if (i.nutrient.unitName == \"kcal\") {\n        nutritionvalue[0] = i.amount;\n      }\n      if (i.nutrient.name == \"Protein\") {\n        nutritionvalue[1] = i.amount;\n      }\n      if (i.nutrient.name == \"Carbohydrate, by difference\") {\n        nutritionvalue[2] = i.amount;\n      }\n      if (i.nutrient.name == \"Total lipid (fat)\") {\n        nutritionvalue[3] = i.amount;\n      }\n    }\n  }\n\n  /*\r\n  function Dropdown(items) {\r\n    const itemsdropdown = items.map((item) => {<p id={item._id} onClick={(e) => fetchNutrient(e.target.id)}>{item.description}</p>});\r\n      return(\r\n      <>\r\n        {itemsdropdown}\r\n      </>\r\n    )\r\n      console.log(items);\r\n  }\r\n  */\n\n  function updateQuery(e) {\n    query = e;\n  }\n  function Title() {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: \"center\",\n        fontSize: \"400%\"\n      },\n      children: \"Diet Tracker v1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 14\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search For Foods\",\n        onChange: e => updateQuery(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n      items: foodSearchList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(InputFood, \"BzKO+ebKL8jp3LxnPtnXaPe2AoU=\", false, function () {\n  return [useNavigate];\n});\n_c = InputFood;\nvar _c;\n$RefreshReg$(_c, \"InputFood\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","InputFood","_s","navigate","foodSearchList","query","selected","setSelected","calories","protein","carbs","fats","updateForm","value","prev","fetchData","response","fetch","encodeURIComponent","ok","message","statusText","window","alert","record","json","fetchNutrient","e","nutritionvalue","nutrients","i","nutrient","unitName","amount","name","updateQuery","Title","style","textAlign","fontSize","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","target","Dropdown","items","_c","$RefreshReg$"],"sources":["C:/Users/linj2/Documents/MERN/client/src/components/FoodSearchBar.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function InputFood() {\r\n    const navigate = useNavigate();\r\n    let foodSearchList = [];\r\n    let query = \"\";\r\n    const [selected, setSelected] = useState({\r\n      calories: 0,\r\n      protein: 0,\r\n      carbs: 0,\r\n      fats: 0\r\n    });\r\n\r\n    function updateForm(value) {\r\n      return setSelected((prev) => {\r\n        return {...prev, ...value};\r\n      });\r\n    }\r\n\r\n    useEffect(() => {\r\n          async function fetchData() {\r\n            const response = await fetch(`http://localhost:5050/record/search?q=${encodeURIComponent(query)}`);\r\n        \r\n            if (!response.ok) {\r\n              const message = `An error has occurred: ${response.statusText}`;\r\n              window.alert(message);\r\n              return;\r\n            } else {\r\n                foodSearchList = response;\r\n            }\r\n        \r\n            const record = await response.json();\r\n            if (!record) {\r\n              window.alert(`No Foods Found`);\r\n              navigate(\"/\");\r\n              return;\r\n            }\r\n          }\r\n        \r\n          fetchData();\r\n    }, query);\r\n\r\n    async function fetchNutrient(e) {\r\n      let nutritionvalue = [];\r\n      const response = await fetch(`http://localhost:5050/record/${e}`);\r\n      if (!response.ok) {\r\n        const message = `An error has occurred: ${response.statusText}`;\r\n        window.alert(message);\r\n        return;\r\n      }\r\n      const nutrients = response.json();\r\n      for (let i of nutrients) {\r\n        if (i.nutrient.unitName == \"kcal\") {\r\n          nutritionvalue[0] = i.amount;\r\n        }\r\n        if (i.nutrient.name == \"Protein\") {\r\n          nutritionvalue[1] = i.amount;\r\n        }\r\n        if (i.nutrient.name == \"Carbohydrate, by difference\") {\r\n          nutritionvalue[2] = i.amount;\r\n        }\r\n        if (i.nutrient.name == \"Total lipid (fat)\") {\r\n          nutritionvalue[3] = i.amount;\r\n        }\r\n      }\r\n    }\r\n\r\n    /*\r\n    function Dropdown(items) {\r\n      const itemsdropdown = items.map((item) => {<p id={item._id} onClick={(e) => fetchNutrient(e.target.id)}>{item.description}</p>});\r\n\r\n      return(\r\n        <>\r\n          {itemsdropdown}\r\n        </>\r\n      )\r\n\r\n      console.log(items);\r\n    }\r\n    */\r\n\r\n    function updateQuery(e) {\r\n      query = e;\r\n    }\r\n\r\n    function Title() {\r\n      return <h1 style={{ textAlign: \"center\", fontSize: \"400%\" }}>Diet Tracker v1</h1>;\r\n  }\r\n\r\n    return(\r\n      <>\r\n        <Title />\r\n\r\n        <form>\r\n          <input type=\"text\" placeholder=\"Search For Foods\" onChange={(e) => updateQuery(e.target.value)}></input>\r\n        </form>\r\n        <Dropdown items={foodSearchList}></Dropdown>\r\n      </>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}